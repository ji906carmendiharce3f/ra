<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Realidad Aumentada con AR.js</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
</head>
<body style="margin : 0px; overflow: hidden;">
    <a-scene embedded arjs>
        <a-nft
            type="nft"
            url="vertical-image/nft-marker"
            smooth="true"
            smoothCount="10"
            smoothTolerance=".01"
            smoothThreshold="5"
        >
            <a-entity
                scale="2 2 2"
                position="50 150 50"
                rotation="-90 0 0"
                gltf-model="vertical-image/model.gltf"
            ></a-entity>
        </a-nft>
        <a-entity
            camera
            cursor-visible="false"
        ></a-entity>
    </a-scene>
    <script>
        const markerEl = document.querySelector('a-nft');
        const markerUrl = 'vertical-image/nft-marker';
        const replacementImageSrc = 'vertical.jpg';

        markerEl.addEventListener('markerFound', () => {
            console.log('Marcador encontrado');
            // Cambiar la palabra "semilla" por una imagen
            markerEl.querySelector('a-entity').setAttribute('gltf-model', '');
            markerEl.querySelector('a-entity').setAttribute('geometry', 'primitive: plane; width: 1; height: 1;');
            markerEl.querySelector('a-entity').setAttribute('material', `src: ${replacementImageSrc};`);
        });

        markerEl.addEventListener('markerLost', () => {
            console.log('Marcador perdido');
            // Restaurar la palabra "semilla"
            markerEl.querySelector('a-entity').setAttribute('gltf-model', `vertical-image/model.gltf`);
            markerEl.querySelector('a-entity').removeAttribute('geometry');
            markerEl.querySelector('a-entity').removeAttribute('material');
        });
    </script>
</body>
</html>
