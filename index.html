<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>AR con Model Viewer</title>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
</head>

<body style="margin: 0px; overflow: hidden;">

    <!-- AR.js loading screen -->
    <div class="arjs-loader">
        <div>Cargando AR...</div>
    </div>

    <!-- AR.js scene -->
    <a-scene
        vr-mode-ui="enabled: false;"
        renderer="logarithmicDepthBuffer: true; precision: medium;"
        embedded="true"
        arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;"
        style="width: 100%; height: 100%;"
    >
        <!-- Contenedor para Model Viewer -->
        <model-viewer id="modelViewer" src="/ver.glb" alt="Modelo 3D" camera-controls autoplay
            style="display: none;"></model-viewer>

        <!-- Elemento para mostrar la imagen mientras se detecta "semilla" -->
        <div id="imagenSemilla" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: url('/semilla.jpg') no-repeat center center / cover; z-index: 999;"></div>

        <!-- Camera entity -->
        <a-entity camera></a-entity>
    </a-scene>

    <script>
        // FunciÃ³n para detectar la palabra "semilla"
        function detectarSemilla(event) {
            const palabra = event.detail.words.find(word => word.toLowerCase() === 'semilla');
            if (palabra) {
                // Mostrar la imagen mientras se detecta la palabra "semilla"
                document.getElementById('imagenSemilla').style.display = 'block';
            } else {
                // Ocultar la imagen cuando no se detecta la palabra "semilla"
                document.getElementById('imagenSemilla').style.display = 'none';
            }
        }

        // Escuchar eventos de reconocimiento de palabras
        document.querySelector('model-viewer').addEventListener('ar-status', detectarSemilla);
    </script>

</body>

</html>
